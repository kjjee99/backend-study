# 암호화/복호화
### 목차
- [정의](#정의)
- [용어](#용어)
- [기능](#기능)
- [종류](#종류)
- [알고리즘](#알고리즘)
  - [양방향](#양방향)
  - [단방향](#단방향)

## 정의
> 중요한 정보를 읽기 어려운 값으로 변환하여 제 3자가 볼 수 없도록 하는 기술

## 용어
|용어|설명|
|---|---|
|평문(plaintext)|암호기술을 통해 보호하고자 하는 원본 데이터|
|암호문(ciphertext)|평문에 암호기술을 적용한 것|
|암호키|- 평문을 암호화하기 위해 필요한 키<br>- 키가 있어야만 암호문을 복호화할 수 있음|

## 기능
|기능|설명|
|---|---|
|기밀성<br>(Confidentially)|허락되지 않은 사용자 또는 객체가 정보의 내용을 알 수 없도록 하는 성질|
|무결성<br>(Integrity)|허락되지 않은 사용자 또는 객체가 정보를 함부로 수정할 수 없도록 하는 성질|
|인증<br>(Authentication)|사용자 또는 객체의 디지털 정체성을 식별|
|부인방지<br>(Non-repudiation)|정보를 보낸 사람이 나중에 정보를 보냈다는 것을 부인하지 못하도록 함|

## 종류
1. 대칭키 암호
2. 비대칭키 암호
3. 해시 함수

## 알고리즘
### 양방향
#### 1. 대칭키(비밀키) 암호(symmetric-key algorithm)

![symmetrickey](https://velog.velcdn.com/images%2Fgs0351%2Fpost%2Ff8e3eb30-2eda-47ac-954e-915515066bbc%2Fimage-20201228143511804.png)
> 암·복호화에 같은 암호키를 쓰는 알고리즘
- 특징
  - 키 크기가 상대적으로 작으며, 암호 알고리즘 내부 구조(치환 & 전치)가 단순함
    > - 치환 암호 : 평문 문자를 다른 문자로 어떠한 규칙에 따라 대응시켜 암호화하는 방식
    > - 전치 암호 : 평문 문자의 자리를 바꾸는 방식
    - 시스템 개발 환경에 용이
    - 비대칭키에 비해 암·복호화 속도가 빠름
  - 교환 당사자(송·수신자) 간에 동일한 키 공유 필요
    - 많은 사람들과의 정보 교환 시 키 관리가 어려움
    - 잦은 키 변경 시 불편함 초래
    - 디지털 서명 기법에 적용하기 곤란함
    - 안정성을 분석하기 어려움
    - 중재자가 필요
- 종류
1. 블록 암호(Block Cipher)
    > 암호문을 만들기 위해 암호키와 알고리즘이 데이터 블록 단위로 적용되는 암호화 방법
    - 평문을 **고정된 크기**의 블록 단위로 암·복호화 수행 -> 패딩(padding) 기법 이용
      - 패딩(padding) : 블록암호 알고리즘에서 블록의 크기를 일정하게 맞추기 위해 빈 부분을 채워주는 것
    - 각 블록마다 동일한 키 사용
    - 하나의 키로 여러 블록을 안전하게 처리하기 위해 운용방식(mode of operation) 절차 이용
      - 운용방식(mode of operation) : 블록암호는 특정한 길이의 블록 단위로 동작하므로, 암호화를 위해 가변 길이 데이터를 단위 블록들로 나누고 그 블록들의 암호화 방식을 결정하는 것을 의미한다.
    - 이전 암호 블록의 암호문을 다음 블록에 순서대로 적용
    - 라운드 함수를 사용해 반복적인 암호화 과정 수행 -> 암호화 강도 향상
      - 라운드 함수 : 암호화 방식은 특정 계산 함수의 반복으로 이루어지며, 이 때 각 과정에 사용되는 함수를 의미
    - 종류
      |종류|키 길이(bit)|블록 크기(bit)|개발국가|비고|
      |---|---|---|---|---|
      |DES|56|64|미국|AES 이전 미국 표준|
      |SEED|128/256|128|한국/KISA|ARIA 이전 국내 표준|
      |AES|128/192/256|128|미국|현 미국 표준|
      |ARIA|128/192/256|128|한국/NSRI|현 국내 표준|
      |IDEA|128|64|유럽|현 국제 표준(PGP에서 사용)|
      
2. 스트림 암호(Stream Cipher)
    > 데이터 흐름인 스트림을 비트 단위로 순차적으로 처리하는 암호 알고리즘

#### 2. 비대칭키(공개키) 암호(Public-key Encryption)
![public-key](https://www.ledger.com/wp-content/uploads/2022/05/What-are-public-and-private-keys-1_KR-1024x719.png)
> 암호화와 복호화에 서로 다른 키를 사용하는 알고리즘

- 비밀키 암호화 기법에서의 보안성 및 키 개수의 기하급수적인 증가를 개선하기 위해 고안된 방법
- 두 개의 키를 각각 A, B라고 할 때, 키 A로 암호화한 암호문은 키 B로만 복호화 가능
  -> 통상적인 사용을 위해 둘 중 하나의 키는 반드시 공개해야 함
- 특징
  - 키 배송 문제 해결 : 송신 측에서는 수신 측에 암호키를 전달하기 위한 안전한 방법이 존재하지 않는 문제
  - 대칭키 암호화 방식에 비해 느림
  - 여러 송신자가 하나의 공개키로 암호화 수행 -> 사용자 수에 상관없이 키 관리
  - 중간자 공격에 취약
    > 중간자 공격(MITM; Man In the Middle Attack)
    > 해커가 중간에서 통신을 가로채어 수신자에게 송신자인 척, 송신자에게 수신자인 척 하여 양쪽의 공개키와 실제 암호화에 사용되는 대칭키를 모두 얻어내는 기법
- 종류
  |구분|특징|방식|장점|단점|
  |---|---|---|---|---|
  |Diffie-Hellman|- 최초의 공개키 알고리즘<br>- 키 분배 전용 알고리즘|이산대수|- 키 분배에 최적화<br>- 키는 필요시에만 생성<br>- 키 저장 불필요|- 암호 모드로 사용불가(인증 불가)<br>- 위조에 취약|
  |DSA|전자서명 알고리즘 표준|이산대수|간단한 구조|- 전자서명 전용<br>- 암호화 키 교환 불가|
  |RSA|대표적 공개키 알고리즘|인수분해|여러 라이브러리 존재|컴퓨터 속도의 발전 -> 키 길이 증가|
 
### 대칭키 VS 공개키
![publickey_symmetric](https://t1.daumcdn.net/cfile/tistory/99EB76495A68F4790C)

### 단방향
#### Hash
![hash](https://velog.velcdn.com/images%2Fyu-jin-song%2Fpost%2Fb25236a2-faab-4416-b071-521661a10c57%2Fcrypto_one_way_cipher_01.jpg)
> key 값을 해시 함수에 대입시켜 계산한 후 나온 결과를 주소로 사용하여 값에 접근할 수 있게하는 방법

- 종류
|분류|대표 알고리즘|MD 길이(bit)|블록 길이(bit)|최대 메시지 길이(bit)|
|---|---|---|---|---|
|MD5|MD5|128|512|무한|
|SHA-1|SHA-1|160|512|2^64 - 1|
|SHA-2|SHA-256/SHA-512|256/512|2^64-1 / 2^128 - 1|